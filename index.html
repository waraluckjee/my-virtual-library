<section class="max-w-7xl mx-auto -mt-12 px-4 pb-16">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <div class="bg-white p-8 rounded-[2rem] shadow-xl border border-slate-100 flex flex-col justify-center items-center text-center hover-scale">
            <p class="text-slate-400 text-sm font-medium mb-1 uppercase tracking-wider">ผู้เข้าร่วมสะสมทั้งหมด</p>
            <h2 class="text-5xl font-black text-indigo-600">24,890</h2>
            <div class="mt-4 px-3 py-1 bg-green-100 text-green-600 rounded-full text-xs font-bold">ปี 2026</div>
        </div>

        <div class="bg-white p-6 rounded-[2rem] shadow-xl border border-slate-100">
            <h3 class="text-sm font-bold text-slate-500 mb-4 text-center">สัดส่วนผู้ใช้งาน (เพศ)</h3>
            <div class="h-40">
                <canvas id="genderChart"></canvas>
            </div>
        </div>

        <div class="bg-white p-6 rounded-[2rem] shadow-xl border border-slate-100">
            <h3 class="text-sm font-bold text-slate-500 mb-4 text-center">ระดับการศึกษา</h3>
            <div class="h-40">
                <canvas id="eduChart"></canvas>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <div class="bg-white p-8 rounded-[2rem] shadow-xl border border-slate-100">
            <h3 class="text-sm font-bold text-slate-500 mb-6 text-center">จำนวนผู้ใช้งานแยกตามช่วงอายุ</h3>
            <div class="h-64">
                <canvas id="ageChart"></canvas>
            </div>
        </div>

        <div class="bg-white p-8 rounded-[2rem] shadow-xl border border-slate-100">
            <h3 class="text-sm font-bold text-slate-500 mb-6 text-center">5 อันดับจังหวัดที่เข้าใช้งานสูงสุด</h3>
            <div class="h-64">
                <canvas id="provinceChart"></canvas>
            </div>
        </div>
    </div>
</section>

<script>
    // ตั้งค่า Font เริ่มต้นสำหรับ Chart.js
    Chart.defaults.font.family = 'Kanit';

    // 1. กราฟเพศ (Pie Chart)
    new Chart(document.getElementById('genderChart'), {
        type: 'pie',
        data: {
            labels: ['ชาย', 'หญิง', 'อื่นๆ'],
            datasets: [{
                data: [42, 53, 5],
                backgroundColor: ['#6366f1', '#f472b6', '#cbd5e1'],
                hoverOffset: 4
            }]
        },
        options: { maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { boxWidth: 12 } } } }
    });

    // 2. กราฟระดับการศึกษา (Doughnut Chart)
    new Chart(document.getElementById('eduChart'), {
        type: 'doughnut',
        data: {
            labels: ['ประถม/มัธยม', 'ปวช./ปวส.', 'ปริญญาตรี', 'สูงกว่า ป.ตรี'],
            datasets: [{
                data: [30, 20, 40, 10],
                backgroundColor: ['#818cf8', '#a78bfa', '#c084fc', '#e879f9'],
                borderWidth: 0
            }]
        },
        options: { 
            cutout: '60%',
            maintainAspectRatio: false, 
            plugins: { legend: { position: 'bottom', labels: { boxWidth: 12 } } } 
        }
    });

    // 3. กราฟช่วงอายุ (Bar Chart)
    new Chart(document.getElementById('ageChart'), {
        type: 'bar',
        data: {
            labels: ['ต่ำกว่า 15', '15-22', '23-35', '36-50', '50+'],
            datasets: [{
                label: 'จำนวนคน',
                data: [2500, 8900, 6400, 4200, 2890],
                backgroundColor: 'rgba(99, 102, 241, 0.8)',
                borderRadius: 10
            }]
        },
        options: { 
            maintainAspectRatio: false,
            scales: { y: { beginAtZero: true, grid: { display: false } }, x: { grid: { display: false } } },
            plugins: { legend: { display: false } }
        }
    });

    // 4. กราฟจังหวัด (Horizontal Bar Chart)
    new Chart(document.getElementById('provinceChart'), {
        type: 'bar',
        data: {
            labels: ['กรุงเทพฯ', 'เชียงใหม่', 'ขอนแก่น', 'ชลบุรี', 'ภูเก็ต'],
            datasets: [{
                label: 'จำนวนคน',
                data: [5200, 3100, 2400, 1800, 1200],
                backgroundColor: '#a855f7',
                borderRadius: 10
            }]
        },
        options: { 
            indexAxis: 'y',
            maintainAspectRatio: false,
            scales: { x: { display: false }, y: { grid: { display: false } } },
            plugins: { legend: { display: false } }
        }
    });
</script>
